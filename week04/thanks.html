<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank You for Your Appointment</title>
</head>
<body>
    <main>
        <h1>Appointment Confirmed</h1>
        <div id="results">
            </div>
    </main>

    <script>
        /* --- URLSearchParams Logic --- */

        const queryString = window.location.search; 
        const params = new URLSearchParams(queryString);

        const resultsDiv = document.querySelector('#results');

        if (params.has('first')) {
            // Extract values using the name attributes from index.html
            const firstName = params.get('first');
            const lastName = params.get('last');
            const ordinance = params.get('ordinance');
            const date = params.get('date');
            const phone = params.get('phone');
            const email = params.get('email');
            
            // Inject the data into the DOM
            resultsDiv.innerHTML = `
                <p>Appointment for <strong>${firstName} ${lastName}</strong> for the <strong>${ordinance}</strong> ordinance on <strong>${date}</strong>.</p>
                <p>Your phone is: ${phone}</p>
                <p>Your email is: ${email}</p>
            `;

            // Optional: log parameters to the console for verification
            console.log("First Name:", firstName);
            console.log("Ordinance:", ordinance);
            console.log("All Params:", params.toString());
        } else {
            resultsDiv.innerHTML = '<p>No appointment details were found.</p>';
        }

    </script>
</body>
</html>